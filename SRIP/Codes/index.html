<!DOCTYPE html>
<html>
    <head>
        <!-- Required Meta Tags -->
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />

        <title>Image Processing Test Bench Experiment</title>

        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- Font from Google -->
        <link
            href="https://fonts.googleapis.com/css?family=Titillium+Web:400,600,700&display=swap"
            rel="stylesheet"
        />

        <!-- Bootstrap Offline -->
        <!-- <link
            rel="stylesheet"
            href="../Libraries/bootstrap-4.3.1-dist/css/bootstrap.min.css"
        /> -->

        <!-- Bootstrap CDN -->
        <link
            rel="stylesheet"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
            integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
            crossorigin="anonymous"
        />

        <!-- imgAreaSelect -->
        <link
            rel="stylesheet"
            type="text/css"
            href="../Libraries/jquery.imgareaselect-0.9.10/css/imgareaselect-animated.css"
        />
        <script
            type="text/javascript"
            src="../Libraries/jquery.imgareaselect-0.9.10/scripts/jquery.min.js"
        ></script>
        <script
            type="text/javascript"
            src="../Libraries/jquery.imgareaselect-0.9.10/scripts/jquery.imgareaselect.pack.js"
        ></script>

        <link
            rel="stylesheet"
            type="text/css"
            media="screen"
            href="style.css"
        />
    </head>

    <body>
        <div id="ContentBox" class="container-fluid">
            <!--Heading-->
            <div id="topbar">
                <div id="iiitLogo">
                    <img src="res/iiit.png" width="100" height="70" />
                </div>
                <div id="heading">
                    <h1>Virtual Lab for Image Processing</h1>
                </div>
                <div id="subHeading"><h3>Image Processing Test Bench</h3></div>
            </div>
            <div class="row" id="middleDiv">
                <div id="controlPanel" class="col-4">
                    <h3>Image Processing Test Bench</h3>
                    <br />
                    <div id="startControls" class="controlDiv">
                        <div class="instructionBox">
                            <p id="startInstructionText" class="text-center">
                                Start the experiment by clicking on "Select
                                Image" and selecting an image from the mosaic
                            </p>
                        </div>
                        <div class="btn-group">
                            <button
                                type="button"
                                class=""
                                data-toggle="modal"
                                data-modal="#MosaicImgModal"
                                id="selectImgButton"
                            >
                                Select Image
                            </button>
                            <button
                                type="button"
                                class="disabled"
                                id="resetButton"
                                disabled
                            >
                                Reset
                            </button>
                        </div>
                        <br />
                        <br />
                        <div class="radioControlBox">
                            <div class="radio">
                                <input
                                    type="radio"
                                    name="operation"
                                    id="affineRadio"
                                />
                                <label for="affineRadio">Affine</label>
                            </div>
                            <div class="radio">
                                <input
                                    type="radio"
                                    name="operation"
                                    id="pointRadio"
                                />
                                <label for="pointRadio">Point</label>
                            </div>
                            <div class="radio">
                                <input
                                    type="radio"
                                    name="operation"
                                    id="histogramRadio"
                                />
                                <label for="histogramRadio">Histogram</label>
                            </div>
                            <div class="radio">
                                <input
                                    type="radio"
                                    name="operation"
                                    id="neighbourRadio"
                                />
                                <label for="neighbourRadio"
                                    >Neighbourhood</label
                                >
                            </div>
                            <div class="radio">
                                <input
                                    type="radio"
                                    name="operation"
                                    id="fourierRadio"
                                />
                                <label for="fourierRadio"
                                    >Fourier Transform</label
                                >
                            </div>
                            <div class="radio">
                                <input
                                    type="radio"
                                    name="operation"
                                    id="morphRadio"
                                />
                                <label for="morphRadio">Morphological</label>
                            </div>
                            <div class="radio">
                                <input
                                    type="radio"
                                    name="operation"
                                    id="segmentRadio"
                                />
                                <label for="segmentRadio">Segmentation</label>
                            </div>
                        </div>
                    </div>
                    <div id="affineControls" class="controlDiv">
                        <div class="instructionBox">
                            <p id="affineInstructionText" class="text-center">
                                Select the required transform and press Run.
                                Press Back to cancel operation.
                            </p>
                        </div>
                        <div class="controlBox">
                            <div>
                                <input
                                    type="radio"
                                    name="affineTransform"
                                    id="translateRadio"
                                />
                                <label for="translateRadio">Translate</label>
                                <div>
                                    <div class="rangeControl">
                                        <label for="translateRangeX"
                                            >X Translation</label
                                        >
                                        <input
                                            type="range"
                                            class="custom-range float-right"
                                            min="-300"
                                            max="300"
                                            step="1"
                                            value="0"
                                            class="slider"
                                            id="translateRangeX"
                                        />
                                    </div>
                                    <div class="rangeControl">
                                        <label for="translateRangeY"
                                            >Y Translation</label
                                        >
                                        <input
                                            type="range"
                                            class="custom-range float-right"
                                            min="-300"
                                            max="300"
                                            step="1"
                                            value="0"
                                            class="slider"
                                            id="translateRangeY"
                                        />
                                    </div>
                                </div>
                            </div>
                            <div>
                                <input
                                    type="radio"
                                    name="affineTransform"
                                    id="rotateRadio"
                                />
                                <label for="rotateRadio">Rotate</label>
                                <div class="rangeControl">
                                    <label for="rotateTransformAngle"
                                        >Rotate Angle</label
                                    >
                                    <input
                                        type="range"
                                        class="custom-range float-right"
                                        min="-180"
                                        max="180"
                                        step="1"
                                        name="affineTransform"
                                        id="rotateTransformAngle"
                                    />
                                </div>
                            </div>
                            <div>
                                <label for="scaleRadio">Scale</label>
                                <input
                                    type="radio"
                                    name="affineTransform"
                                    id="scaleRadio"
                                />
                            </div>
                        </div>
                    </div>
                    <div id="pointControls" class="controlDiv">
                        <div class="btn-group">
                            <button
                                id="linearButtonPtCtrls"
                                class="active"
                                type="button"
                            >
                                Linear
                            </button>
                            <button
                                id="nonLinearButtonPtCtrls"
                                class=""
                                type="button"
                            >
                                Non-Linear
                            </button>
                            <button
                                id="clippingButtonPtCtrls"
                                class=""
                                type="button"
                            >
                                Clipping
                            </button>
                            <button
                                id="windowButtonPtCtrls"
                                class=""
                                type="button"
                            >
                                Window
                            </button>
                        </div>
                        <div class="controlBox">
                            <div id="linearControls">
                                <div class="rangeControl">
                                    <label for="slopeLinearPointControl">
                                        Slope
                                    </label>
                                    <input
                                        type="range"
                                        class="custom-range float-right"
                                        name="slope"
                                        min="-57.3"
                                        max="57.3"
                                        id="slopeLinearPointControl"
                                    />
                                </div>
                                <div class="rangeControl">
                                    <label for="offsetLinearPointControl">
                                        Offset
                                    </label>
                                    <input
                                        type="range"
                                        class="custom-range float-right"
                                        name="offset"
                                        min="-255"
                                        max="255"
                                        id="offsetLinearPointControl"
                                    />
                                </div>
                            </div>
                            <div id="nonLinearControls">
                                <div class="rangeControl">
                                    <label for="slopeNonLinearPointControl">
                                        Slope
                                    </label>
                                    <input
                                        type="range"
                                        class="custom-range float-right"
                                        name="slope"
                                        id="slopeNonLinearPointControl"
                                    />
                                </div>
                            </div>
                            <div id="clippingControls">
                                <div class="rangeControl">
                                    <label
                                        for="windowStartClippingPointControl"
                                    >
                                        Window Start
                                    </label>
                                    <input
                                        type="range"
                                        class="custom-range float-right"
                                        name="windowStart"
                                        min="0"
                                        max="255"
                                        id="windowStartClippingPointControl"
                                    />
                                </div>
                                <div class="rangeControl">
                                    <label for="windowEndClippingPointControl">
                                        Window End
                                    </label>
                                    <input
                                        type="range"
                                        class="custom-range float-right"
                                        name="windowEnd"
                                        min="0"
                                        max="255"
                                        id="windowEndClippingPointControl"
                                    />
                                </div>
                                <div class="rangeControl">
                                    <label for="slopeClippingPointControl">
                                        Slope
                                    </label>
                                    <input
                                        type="range"
                                        class="custom-range float-right"
                                        name="slope"
                                        min="0"
                                        max="1"
                                        step="0.01"
                                        id="slopeClippingPointControl"
                                    />
                                </div>
                            </div>
                            <div id="windowControls">
                                <div class="rangeControl">
                                    <label for="windowStartWindowPointControl">
                                        Window Start
                                    </label>
                                    <input
                                        type="range"
                                        class="custom-range float-right"
                                        name="windowStart"
                                        min="0"
                                        max="255"
                                        id="windowStartWindowPointControl"
                                    />
                                </div>
                                <div class="rangeControl">
                                    <label for="windowEndWindowPointControl">
                                        Window End
                                    </label>
                                    <input
                                        type="range"
                                        class="custom-range float-right"
                                        name="windowEnd"
                                        min="0"
                                        max="255"
                                        id="windowEndWindowPointControl"
                                    />
                                </div>
                                <div class="rangeControl">
                                    <label for="slopeWindowPointControl">
                                        Slope
                                    </label>
                                    <input
                                        type="range"
                                        class="custom-range float-right"
                                        name="slope"
                                        min="0"
                                        max="1"
                                        step="0.01"
                                        id="slopeWindowPointControl"
                                    />
                                </div>
                            </div>
                            <!-- <input
                                type="range"
                                class="custom-range"
                                name=""
                                id=""
                            /> -->
                        </div>
                    </div>
                    <div id="morphControls" class="controlDiv">
                        <div class="controlBox">
                            <div class="row">
                                <div class="col">
                                    <b>Operation</b>
                                    <div>
                                        <input
                                            type="radio"
                                            name="morphOperationType"
                                            value="dilation"
                                            id="dilationMorphControl"
                                        />
                                        <label for="dilationMorphControl"
                                            >Dilation</label
                                        >
                                    </div>
                                    <div>
                                        <input
                                            type="radio"
                                            name="morphOperationType"
                                            value="erosion"
                                            id="erosionMorphControl"
                                        />
                                        <label for="erosionMorphControl"
                                            >Erosion</label
                                        >
                                    </div>
                                    <div>
                                        <input
                                            type="radio"
                                            name="morphOperationType"
                                            value="opening"
                                            id="openingMorphControl"
                                        />
                                        <label for="openingMorphControl"
                                            >Opening</label
                                        >
                                    </div>
                                </div>
                                <div class="col">
                                    <b>Structuring Element Properties:</b>
                                    <div class="row">
                                        <div class="col">
                                            <b>Shape</b>
                                            <div>
                                                <input
                                                    type="radio"
                                                    name="morphStrElemType"
                                                    value="disc"
                                                    id="discStrElementMorphControl"
                                                />
                                                <label
                                                    for="discStrElementMorphControl"
                                                    >Disc</label
                                                >
                                            </div>
                                            <div>
                                                <input
                                                    type="radio"
                                                    name="morphStrElemType"
                                                    value="square"
                                                    id="squareStrElementMorphControl"
                                                />
                                                <label
                                                    for="squareStrElementMorphControl"
                                                    >Square</label
                                                >
                                            </div>
                                            <div>
                                                <input
                                                    type="radio"
                                                    name="morphStrElemType"
                                                    value="line"
                                                    id="lineStrElementMorphControl"
                                                />
                                                <label
                                                    for="lineStrElementMorphControl"
                                                    >Line</label
                                                >
                                            </div>
                                            <!-- <div id="lineStrElementParamMorphControl">
                                                <b>Angle from horizontal</b><br>
                                                <input type="radio" name="angle" value="0"> 0 degrees <br>
                                                <input type="radio" name="angle" value="30" checked="">30 degrees <br>
                                                <input type="radio" name="angle" value="60"> 60 degrees <br>
                                                <input type="radio" name="angle" value="90"> 90 degrees <br>
                                            </div> -->
                                        </div>
                                        <div class="col">
                                            <b>Size</b>
                                            <div>
                                                <input
                                                    type="radio"
                                                    name="strElemSize"
                                                    id="3strElemSizeMorphControl"
                                                    value="3"
                                                />
                                                <label
                                                    for="3strElemSizeMorphControl"
                                                    >3 * 3</label
                                                >
                                            </div>
                                            <div>
                                                <input
                                                    type="radio"
                                                    name="strElemSize"
                                                    id="5strElemSizeMorphControl"
                                                    value="5"
                                                />
                                                <label
                                                    for="3strElemSizeMorphControl"
                                                    >5 * 5</label
                                                >
                                            </div>
                                            <div>
                                                <input
                                                    type="radio"
                                                    name="strElemSize"
                                                    id="7strElemSizeMorphControl"
                                                    value="7"
                                                />
                                                <label
                                                    for="3strElemSizeMorphControl"
                                                    >7 * 7</label
                                                >
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="histogramControls" class="controlDiv">
                        <div class="controlBox">
                            <b>Processing Options:</b>
                            <div>
                                <input
                                    type="radio"
                                    name="globalEqualisation"
                                    id="globalHistEqualisationHistControls"
                                />
                                <label for="globalHistEqualisationHistControls"
                                    >Global Histogram Equalisation</label
                                >
                            </div>
                            <div>
                                <input
                                    type="radio"
                                    name="adaptiveEqualisation"
                                    id="adaptiveHistEqualisationHistControls"
                                />
                                <label
                                    for="adaptiveHistEqualisationHistControls"
                                    >Adaptive Histogram Equalisation</label
                                >
                            </div>
                            <div>
                                <input
                                    type="radio"
                                    name="histFilter"
                                    id="FilterHistogramHistControls"
                                />
                                <label for="FilterHistogramHistControls"
                                    >Filter Histogram</label
                                >
                            </div>
                        </div>
                    </div>
                    <div id="neighbourhoodControls" class="controlDiv">
                        <div class="controlBox">
                            <div class="row">
                                <div class="col">
                                    <b>Linear Filtering</b>
                                    <div>
                                        <input
                                            type="radio"
                                            name="filterType"
                                            value="strAvg"
                                            id="strAvgLinFilterNeighControls"
                                        />
                                        <label
                                            for="strAvgLinFilterNeighControls"
                                            >Straight Average</label
                                        >
                                    </div>
                                    <div>
                                        <input
                                            type="radio"
                                            name="filterType"
                                            value="triangular"
                                            id="triangularLinFilterNeighControls"
                                        />
                                        <label
                                            for="triangularLinFilterNeighControls"
                                            >Triangular Filter</label
                                        >
                                    </div>
                                    <div>
                                        <input
                                            type="radio"
                                            name="filterType"
                                            value="gaussAvg"
                                            id="GaussianLinFilterNeighControls"
                                        />
                                        <label
                                            for="GaussianLinFilterNeighControls"
                                            >Gaussian Filter</label
                                        >
                                    </div>
                                </div>
                                <div class="col">
                                    <div>
                                        <b>Size of Neig'hood</b>
                                        <div>
                                            <input
                                                type="radio"
                                                name="filterSize"
                                                id="3LinFilterSizeNeighControls"
                                                value="3"
                                            />
                                            <label
                                                for="3LinFilterSizeNeighControls"
                                                >3 * 3</label
                                            >
                                        </div>
                                        <div>
                                            <input
                                                type="radio"
                                                name="filterSize"
                                                id="5LinFilterSizeNeighControls"
                                                value="5"
                                            />
                                            <label
                                                for="5LinFilterSizeNeighControls"
                                                >5 * 5</label
                                            >
                                        </div>
                                        <div>
                                            <input
                                                type="radio"
                                                name="filterSize"
                                                id="7LinFilterSizeNeighControls"
                                                value="7"
                                            />
                                            <label
                                                for="7LinFilterSizeNeighControls"
                                                >7 * 7</label
                                            >
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <div>
                                        <b>Non-Linear Operations</b>
                                        <div>
                                            <input
                                                type="radio"
                                                name="filterType"
                                                id="medianNonLinFilterNeighControls"
                                                value="median"
                                            />
                                            <label
                                                for="medianNonLinFilterNeighControls"
                                                >Median</label
                                            >
                                        </div>
                                        <div>
                                            <input
                                                type="radio"
                                                name="filterType"
                                                id="unsharpNonLinFilterNeighControls"
                                                value="unsharp"
                                            />
                                            <label
                                                for="unsharpNonLinFilterNeighControls"
                                                >Unsharp</label
                                            >
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="fourierControls" class="controlDiv">
                        <div class="controlBox">
                            <div>
                                <b
                                    >Inverse Fourier Transform with Bit
                                    Masking</b
                                >
                                <div>
                                    <label for="thetaFourierControls">θ</label>
                                    <input
                                        type="range"
                                        name="theta"
                                        class="custom-range"
                                        id="thetaFourierControls"
                                    />
                                </div>
                                <div>
                                    <label for="radiusFourierControls">r</label>
                                    <input
                                        type="range"
                                        name="radius"
                                        class="custom-range"
                                        id="radiusFourierControls"
                                    />
                                </div>
                                <div>
                                    <label for="dThetaFourierControls"
                                        >Δθ</label
                                    >
                                    <input
                                        type="range"
                                        name="dtheta"
                                        class="custom-range"
                                        id="dThetaFourierControls"
                                    />
                                </div>
                                <div>
                                    <label for="dRadiusFourierControls"
                                        >Δr</label
                                    >
                                    <input
                                        type="range"
                                        name="dradius"
                                        class="custom-range"
                                        id="dRadiusFourierControls"
                                    />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="segmentationControls" class="controlDiv">
                        <div class="controlBox">
                            <div class="row">
                                <div class="col">
                                    <div>
                                        <!-- <input
                                            type="radio"
                                            name="segmentationType"
                                            id="histBasedSegmentation"
                                        /> -->
                                        <label for="histBasedSegmentation"
                                            ><b
                                                >Histogram Based Segmentation</b
                                            ></label
                                        >
                                    </div>
                                    <div id="histBasedSegmentationDiv">
                                        <b><i>Manual Thresholding</i></b>
                                        <div>
                                            <input
                                                type="radio"
                                                name="thresholding"
                                                id="singleThresholdSegmentControls"
                                            />
                                            <label
                                                for="singleThresholdSegmentControls"
                                                >Single Thresholding</label
                                            >
                                        </div>
                                        <div>
                                            <input
                                                type="radio"
                                                name="thresholding"
                                                id="doubleThresholdSegmentControls"
                                            />
                                            <label
                                                for="doubleThresholdSegmentControls"
                                                >Double Thresholding</label
                                            >
                                        </div>
                                        <b><i>Automatic Thresholding</i></b>
                                        <div>
                                            <input
                                                type="radio"
                                                name="thresholding"
                                                id="autoThresholdSegmentControls"
                                            />
                                            <label
                                                for="autoThresholdSegmentControls"
                                                >Automatic
                                                Thresholding(Otsu)</label
                                            >
                                        </div>
                                    </div>
                                </div>
                                <div class="col">
                                    <div>
                                        <!-- <input
                                            type="radio"
                                            name="segmentationType"
                                            id="regionGrowingSegmentation"
                                        /> -->
                                        <label for="regionGrowingSegmentation"
                                            ><b>Region Growing</b></label
                                        >
                                    </div>
                                    <div id="regionGrowing">
                                        <div>
                                            <input
                                                type="radio"
                                                name="regionGrowingBasis"
                                                id="meanBasedRegionSegmentControls"
                                                value="mean"
                                            />
                                            <label
                                                for="meanBasedRegionSegmentControls"
                                                >Mean Based</label
                                            >
                                        </div>
                                        <div>
                                            <input
                                                type="radio"
                                                name="regionGrowingBasis"
                                                id="varianceBasedRegionSegmentControls"
                                                value="variance"
                                            />
                                            <label
                                                for="varianceBasedRegionSegmentControls"
                                                >Variance Based</label
                                            >
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="btn-group">
                        <button
                            type="button"
                            class="hide-back"
                            id="runButton"
                        >
                            Run
                        </button>
                        <button
                            type="button"
                            class=""
                            id="backButton"
                        >
                            Back
                        </button>
                    </div>
                </div>
                <div class="col-8">
                    <div class="row">
                        <div class="col" id="inputImCanvasDiv">
                            <canvas id="inputImCanvas"></canvas>
                        </div>
                        <div class="col" id="outputImCanvasDiv">
                            <canvas id="outputImCanvas"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-4"></div>
                <div class="col-7 border" id="pipelineDiv">
                    <label for="pipelineRange">Pipeline</label>
                    <input
                        type="range"
                        class="custom-range"
                        name="pipeline"
                        min="0"
                        max="0"
                        id="pipelineRange"
                    />
                </div>
            </div>

            <!-- <div class="d-none" id="mosaic-diplay">
        </div> -->
        </div>

        <!-- Image select modal -->
        <div
            id="MosaicImgModal"
            class="modal fade"
            tabindex="-1"
            role="dialog"
            aria-labelledby="imageSelectModal"
            aria-hidden="true"
        >
            <div class="modal-dialog modal-dialog-centered modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title" id="imageSelectModalLabel">
                            Image Select
                        </h4>
                        <button class="close" data-dismiss="modal">
                            <span aria-hidden="true">&times;</span
                            ><span class="sr-only">Close</span>
                        </button>
                    </div>

                    <div class="modal-body">
                        <img
                            src="res/Mosaic.png"
                            id="mosaicSelectImage"
                            alt="Mosaic for image selection"
                        />
                    </div>
                </div>
            </div>
        </div>

        <!-- Bootstrap Offline -->
        <!-- <script src="../Libraries/jquery-3.4.1.min.js"></script> -->
        <!-- <script
            type="text/javascript"
            src="../Libraries/bootstrap-4.3.1-dist/js/bootstrap.bundle.min.js"
        ></script> -->

        <!-- Bootstrap CDN -->
        <!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> -->
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"
        ></script>
        <script
            src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"
        ></script>

        <script src="testBench.js"></script>

        <!-- Function Libraries -->
        <script src="interpolate.js"></script>
        <script src="coord.js"></script>
        <script src="affine.js"></script>
        <script src="histogram.js"></script>
        <script src="morphological.js"></script>
        <script src="neighbourhood.js"></script>
        <script src="point.js"></script>
        <script src="changeView.js"></script>
        <script src="projectTest.js"></script>
    </body>
</html>
